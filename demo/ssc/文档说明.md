### 文档说明

SSC： Such Stupid Centre，没必要将其看做 时时彩 的拼音简称。

#### 1. 功能模块

1）配置

配置分为三部分，一部分为球数的配置，这个为 config.js 中 ConfigParam，一部分是对 DOM 显示的配置，也就是玩法的配置，这个为 config.js 中的 ConfigDOM，第三部分是对玩法关闭的控制，这个需要在插入 config.js 这个节点之前配置，为 ConfigClose。

配置格式都是一目了然，需要注意的是 ConfigDOM 中 group 参数为分组，可以参考二星的配置和最后的呈现，pos 参数指的是玩法在呈现中的位置，比如三星组选的包号玩法，顶部 tab 的位置为 4，玩法所在的位置为 2，故 pos 为 [4,2]。ConfigClose 为一个二维数组，每一项都是玩法最终呈现的 pos 参数，配置参数后，默认在视图中不会显示出来。这个是通过 SSC 类中的 preprocessor 函数处理的。

2）主类 SSC

SSC 为主类，主要用于控制整个功能的实现。

- tabSwitch 绑定顶部的 Tab 和联动的 SubTab
- setCurAttr 根据 TAB 确定当前的球数
- bollLinkage 根据 SubTab 中的 id 属性来判断当前的算法并渲染各行球的展示
- bindUI 绑定中心，几乎所有的 DOM 绑定都在这里
- bindUISelector 绑定 select 变化时的触发动作
- refresh 选择球 -> 刷新变量 -> 判断 button 是否可以点击，这是一个比较关键的函数，里面功能比较多，可以查看注释。
- countor 算法核心
- calcMoney 计算金额，可能是一个区间值
- addResItem 添加一条选择记录
- _getTextPatternContent 当 curType 为 text 时，获取 text 中每一行的球信息检测无误则返回数据
- alertBox 弹出层，可扩展
- bindMultiSelector 机选多注的 select 绑定

3）DOM处理相关的所有函数 DOMHelper

- createTab 生成顶部 TAB
- createSubTab 创建 SubTab，input 框和 tip 信息
- ceateItemListSelect 创建球区块右侧的 select
- createBollLine 创建球区块
  - chooseLineTpl 多行球的展示
  - chooseSumTpl 多行球的和值展示
  - chooseDXDSTpl 多行球的大小单双展示
- ceateItemListSelect 创建生成一条内容的模板

4）对ssc类的扩展，添加辅助工具 Utils

- getRandom 获取随机数
- getSomeRandom 获取多个随机数
- tplEngine 清空重复数据
- repeat 重复显示
- combination 组合
- permutation 排列
 
#### 2. 视图渲染

    +---------------------+
    |    配置Config文件   | -→ ConfigDOM
    +---------------------+
               |
               ↓
    +---------------------+
    |     预处理Config    | -→ SSC.prototype.preprocessor
    +---------------------+
               |
               ↓
    +---------------------+
    |       创建 DOM      | -→ DOMHelper.createTab / DOMHelper.createSubTab
    +---------------------+
               |
               ↓
    +---------------------+
    |        插入 DOM     | -→ Utils.tplEngine
    +---------------------+

#### 3. 选号球区域生成


    +---------------------+
    |      点击 subTab    | -→ 当点击 Tab 的时候，会自动触发点击第一个 subTab
    +---------------------+
               |
               ↓
    +---------------------+
    |     判断算法类型    | -→ SSC.prototype.bollLinkage
    +---------------------+
               |
               ↓
    +---------------------+
    |       创建 DOM      | -→ DOMHelper.ceateItemListSelect 根据类型自动创建模板
    +---------------------+
               |
               ↓
    +---------------------+
    |        插入 DOM     |
    +---------------------+

#### 4. 增加新玩法

在 ConfigDOM 中对应的位置添加新玩法描述，这里需要注意一点：配置文件中的 intro 内容，请规范化玩法介绍中文案的呈现，奖金后面加上"元"作为单位，并使用阿拉伯数字或者万来表示金额，如 3.2万元，287元等。

千万记得在 SSC 的 bollLinkage 标识新玩法，然后在 DOMHelper.ceateItemListSelect 添加一个球区块的生成函数，或者复用我写的三个函数，接着在 SSC 的 counter 中配置算法。

#### 5. 如何开启与关闭玩法

在 main.js 之前配置需要关闭的玩法，配置模板为：

    window.ConfigClose = [[4,1], [4,2], [4,3], [4,4], [4,5]];

为一个二维数组，每个子项是需要关闭的玩法所在的视图位置 [Tab, SubTab].

#### 6. 其他项

- 最大倍率控制 

全局参数MAX_DOUBLING配置，或者设置DOM中 div.ssc-resluts-doubling > em > b

- 弹出层扩展 SSC.prototype.alertBox

- 星的个数，是通过“一星”，“七星”，这里面的数字来确定的

这个函数为 SSC.prototype.setCurAttr，最多可以 “九星”，如果想更多可以自己扩展

- 手工录入

这个函数已经在输入的时候就做了自动判断，只有输入为有效内容的时候，确认按钮才会变成可以点击状态。这个自动判断只处理了 时时彩 所需，如果要扩展，请自行处理，这里的扩展可能有点难度。
