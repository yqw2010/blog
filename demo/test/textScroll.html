<!DOCTYPE HTML>  
<html>  
<head>  
	<meta charset="UTF-8">  
	<title>JSDemo</title>
    <style type="text/css">
    ul { margin:0; padding:0; list-style:none;}
    a{ text-decoration: none; }

    .ann_wp { width:100%; width:500px; height:29px; line-height:30px; background:#CCF0FF; border:1px solid #5AE; -moz-border-radius:4px; border-radius:4px; overflow:hidden; position:relative; z-index: 9}
    .ann_box {position:absolute; top:0; left:95px; z-index: 9; bottom:0; right:33px;}
    .ann_ul{ position:absolute; white-space:nowrap; top:0; bottom:0; width:100%;}
    .ann_ul li{ margin-right: 15px; display:inline-block; *display:inline; }
    .ann_ul li a { color:#28D; font-size: 14px;}
    .ann_ul li a:hover{ text-decoration:underline; color:#03F;}

    .ann_title{ background:#CCF0FF; padding-left:8px; font-weight:bold; position:absolute; left: 0; top:0; z-index: 10}
    .ann_mask{ width:33px; height:21px; padding:4px 0; background:#CCF0FF; position:absolute; top:0; right:0; z-index: 10}
    a.ann_x{ width:21px; height:21px; line-height: 21px; background: #CCF0FF url(./images/x.gif) center no-repeat; display:block; margin:0 6px; border:1px solid transparent; text-align: center}
    a.ann_x:hover{ background-color:#FFF; border:1px solid #09C; -moz-border-radius:3px; border-radius:3px; }

 
    </style>
    
</head>  

<body>

<div class="ann_wp">
    <span class="ann_title">通知公告：</span>
    <div class="ann_box" id="box">
	    <ul class="ann_ul" id="textList">
	        <li><a href="#">1通知标题通知标题</a></li>
	        <li><a href="#">2通知标题通知标题</a></li>
	        <li><a href="#">3通知标题通知标题</a></li>
	        <li><a href="#">4通知标题通知标题</a></li>
	    </ul>
    </div>
    <div class="ann_mask"><a href="#" class="ann_x"></a></div>
</div>

<p></p>
<p style="color:red">
	JS放在任意位置都行，样式放进去就行，然后设置.ann_wp的top和left，使之处于合适位置。
</p>

<script type="text/javascript">
;(function(window, undefined){
	/**
	* Plugin for text slider show, updated By @BarretLee (Tencent Weibo).
	* This is an autorun function, you can set the @param {speed}
	* to change the speed of scroll animation.
	**/
	var textList = document.getElementById("textList"),
		box = document.getElementById("box"),
	    textClone = textList.cloneNode(true),
	    bW = box.offsetWidth,
	    speed = 20,
	    timer;

	//the real width of textList.
	var tW = (function(t){
			var lis = t.children, len = lis.length, i = 0, w = 0;
			for(; i < len; i++){
				w += lis[i].offsetWidth;
			}
			return w;
		}(textList));
	
	//initial
	textList.style.left = "0px";
	textList.innerHTML += textList.innerHTML;

	//ani
	function ani(){
		var l = parseInt(textList.style.left);
		if(tW + bW - 100 <= -l){
			textList.style.left = "-1px";
			return;
		}
		textList.style.left = l - 1 + "px";
	}

	timer = setInterval(ani, speed);
	//bind
	box.onmousemove = function(){
		clearInterval(timer);
	};
	box.onmouseout = function(){
		timer = setInterval(ani, speed);
	};
}(window, undefined));
</script>
</html>

